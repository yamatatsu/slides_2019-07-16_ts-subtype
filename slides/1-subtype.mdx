<!-- sectionTitle: subtypeとは？ -->

import { Card } from "@fusuma/client"
import Editor from "./Editor";

import benAnimal from './images/00-ben-animal.jpg'
import benTsObject from './images/10-ben-ts-object.jpg'

## subtypeとは？

---

<h3>superType: animals</h3>
<h3>subType: ???</h3>

---

<h3 class='no-animation'>superType: animals</h3>
<h3>subType: cat 🐈</h3>

---

<h3>superType: fruits</h3>
<h3>subType: ???</h3>

---

<h3 class='no-animation'>superType: fruits</h3>
<h3>subType: banana 🍌</h3>

---

##### 図で書くとこう

<img src={benAnimal} style={{ height: '50vh' }} />

---

## TSのsubtypeとは？

---

## objectのsubtype

---

<Editor code={`\
{ // file
  type A = { a: number }
  type B = { b: string }
  type AB = A & B
\n\
  const a: A = { a: 1 }
  const ab: AB = { a: 1, b: 'hoge' }
\n\
  // このとき、AとAB、どちらがどちらのsubtype？
\n\
  // const checkA: A = ab
  // const checkAB: AB = a
}
`} />

---

##### 図で書くとこう

<img src={benTsObject} style={{ height: '50vh' }} />

---

## numberのsubtype

---

<Editor code={`\
{ // file
  type SuperNumber = number
  type SubNumber = 1 | 2 | 3
\n\
  const superNumber: SuperNumber = 1 as SubNumber
  const subNumber: SubNumber = Date.now()
}
`} />

---

## stringのsubtype

---

<Editor code={`\
{ // file
  type Animal = 'dog' | 'pig' | 'cat'
  type Cat = 'cat'
\n\
  const animal: Animal = 'cat'
  const cat: Cat = 'dog' as Animal
}
`} />

---

## Promiseのsubtype

---

<Editor code={`\
{ // file
  type Animal = 'dog' | 'pig' | 'cat'
  type Cat = 'cat'
  type AnimalPromise = Promise<Animal>
  type CatPromise = Promise<Cat>
\n\
  const animalPromise: AnimalPromise = Promise.resolve('cat')
  const catPromise: CatPromise = Promise.resolve('dog') as AnimalPromise
\n\
  /* これが共変(covariance) */
}
`} />
